<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>7 Day Diet Tracker</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#f4f7f5;
  --card:#ffffff;
  --text:#1f2937;
  --muted:#6b7280;
  --accent:#22c55e;
  --soft:#dcfce7;
}
*{box-sizing:border-box;font-family:'Inter',system-ui,sans-serif}
body{margin:0;background:var(--bg);color:var(--text)}
.container{max-width:440px;margin:auto;padding:16px 16px 130px}

h1{text-align:center;font-size:22px;font-weight:700;margin:8px 0}

.tabs{display:flex;gap:6px;margin:14px 0}
.tab{
  flex:1;padding:9px 0;border-radius:999px;
  background:#e5e7eb;font-size:13px;font-weight:500;
  text-align:center;cursor:pointer
}
.tab.active{background:var(--accent);color:#fff}

.card{
  background:var(--card);padding:16px;border-radius:16px;
  box-shadow:0 6px 16px rgba(0,0,0,.06);
  margin-bottom:16px;font-size:15px
}
.bar{height:10px;background:#e5e7eb;border-radius:10px;overflow:hidden;margin-top:8px}
.fill{height:100%;width:0;background:var(--accent);transition:.4s}

.section{
  background:var(--card);padding:16px;border-radius:16px;
  box-shadow:0 5px 14px rgba(0,0,0,.05);
  margin-bottom:14px
}
.section h3{
  margin:0 0 8px;font-size:17px;font-weight:600;
  display:flex;align-items:center;gap:12px
}
.section h3 span{font-size:13px;color:var(--muted);font-weight:500}

.items{
  margin-left:32px;
  font-size:15px;
  line-height:1.7;
  color:#374151
}

.note{
  font-size:14px;color:#065f46;
  background:#ecfdf5;padding:10px;
  border-radius:10px;margin:10px 0 0 32px
}

.advice{
  background:#fff7ed;
  color:#7c2d12;
  padding:16px;
  border-radius:16px;
  font-size:15px;
  margin-top:24px;
  line-height:1.6
}

input{transform:scale(1.15);accent-color:var(--accent)}

.toast{
  position:fixed;bottom:20px;left:50%;
  transform:translateX(-50%) translateY(10px);
  background:#16a34a;color:#fff;
  padding:14px 20px;border-radius:999px;
  font-size:15px;font-weight:500;
  opacity:0;transition:.3s
}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
.complete{background:var(--soft);border:2px solid var(--accent)}
</style>
</head>

<body>
<div class="container">

  <h1 id="dayTitle"></h1>

  <div class="tabs" id="tabs"></div>

  <div class="card" id="progressCard">
    <div>
      <b id="done">0</b> / <span id="goal"></span> kcal ¬∑
      <span id="pct">0%</span>
    </div>
    <div class="bar"><div class="fill" id="bar"></div></div>
  </div>

  <div id="meals"></div>

  <div class="advice">
    üí° <b>General advice:</b><br>
    Drink warm water whenever possible throughout the day, provided it does not cause any discomfort.
  </div>

</div>

<div class="toast" id="toast"></div>

<script>
const days=[
{
 day:"Monday",goal:1665,
 meals:[
  ["Breakfast",550,[
    "Two boiled eggs",
    "Two slices of bread with vegetables",
    "Protein shake with banana OR banana with oats"
  ]],
  ["Lunch",615,[
    "Cup of rice",
    "Vegetable curry",
    "Curd"
  ]],
  ["Snack",100,[
    "Juice",
    "Boiled green gram sprouts",
    "Carrot juice"
  ]],
  ["Dinner",460,[
    "Two chapati with curry",
    "Steamed vegetables",
    "Corn vegetable soup"
  ]]
 ]
},
{
 day:"Tuesday",goal:1533,
 meals:[
  ["Breakfast",263,["Avocado egg toast"]],
  ["Lunch",615,["University lunch (campus food)"],"univ"],
  ["Snack",100,["Pomegranate juice"]],
  ["Dinner",615,["Paneer","Two chapati","Soup"]]
 ]
},
{
 day:"Wednesday",goal:1898,
 meals:[
  ["Breakfast",523,["Oats with milk","Soaked almonds","Banana","Green tea"]],
  ["Lunch",615,["University lunch (campus food)"],"univ"],
  ["Snack",100,["Ragi millet juice"]],
  ["Dinner",660,["Chickpeas Greek salad","Vegetable soup","One ragi rotti"]]
 ]
},
{
 day:"Thursday",goal:1745,
 meals:[
  ["Breakfast",580,["Two egg omelette with toast bread","Boiled sprouts with vegetables","Apple OR orange"]],
  ["Lunch",615,["University lunch (campus food)"],"univ"],
  ["Snack",90,["Carrot + orange juice"]],
  ["Dinner",460,["Two chapati with any curry","Roasted vegetables","Mixed vegetable soup"]]
 ]
},
{
 day:"Friday",goal:1588,
 meals:[
  ["Breakfast",480,["Peanut butter toast with banana","Boiled egg","Mixed fruit bowl"]],
  ["Lunch",615,["University lunch (campus food)"],"univ"],
  ["Snack",130,["Beetroot juice"]],
  ["Dinner",450,["Rice","Dal","Vegetables"]]
 ]
},
{
 day:"Saturday",goal:1792,
 meals:[
  ["Breakfast",440,["3 dosa","Green tea","Boiled egg"]],
  ["Lunch",690,["Rice","Roasted chicken","Soup","Dessert","Curd"]],
  ["Snack",12,["Cucumber juice"]],
  ["Dinner",580,["Rice","Roasted chicken salad"]]
 ]
},
{
 day:"Sunday",goal:1885,
 meals:[
  ["Breakfast",440,["Poha","Yogurt","Nuts","Lemon tea"]],
  ["Lunch",680,["Rice","Mutton curry","Curd","Cucumber onion salad"]],
  ["Snack",235,["Banana milk shake"]],
  ["Dinner",530,["Sprout salad","Vegetable soup","2 millet roti"]]
 ]
}
];

let current=0;
const tabs=document.getElementById("tabs");
const mealsEl=document.getElementById("meals");
const title=document.getElementById("dayTitle");
const goalEl=document.getElementById("goal");
const doneEl=document.getElementById("done");
const pctEl=document.getElementById("pct");
const bar=document.getElementById("bar");
const toast=document.getElementById("toast");
const card=document.getElementById("progressCard");

function showToast(msg){
 toast.textContent=msg;
 toast.classList.add("show");
 setTimeout(()=>toast.classList.remove("show"),2000);
}

function render(){
 tabs.innerHTML="";
 days.forEach((d,i)=>{
  const t=document.createElement("div");
  t.className="tab"+(i===current?" active":"");
  t.textContent=d.day.slice(0,3);
  t.onclick=()=>{current=i;render()};
  tabs.appendChild(t);
 });

 const d=days[current];
 title.textContent=d.day;
 goalEl.textContent=d.goal;
 mealsEl.innerHTML="";
 card.classList.remove("complete");

 d.meals.forEach(m=>{
  const s=document.createElement("div");
  s.className="section";
  s.innerHTML=`
    <h3>
      <input type="checkbox" data-cal="${m[1]}">
      ${m[0]} <span>(${m[1]} kcal)</span>
    </h3>
    <div class="items">${m[2].map(i=>"‚Ä¢ "+i).join("<br>")}</div>
  `;
  if(m[3]==="univ"){
    s.innerHTML+=`
      <div class="note">
        üè´ University day ‚Äî consume lunch from campus food options (target ~615 kcal).
      </div>`;
  }
  mealsEl.appendChild(s);
 });

 load();
}

function load(){
 const saved=JSON.parse(localStorage.getItem("diet-"+current)||"[]");
 document.querySelectorAll("input[type=checkbox]").forEach((c,i)=>{
  c.checked=saved[i]||false;
  c.onchange=update;
 });
 update();
}

function update(){
 let total=0,checked=0;
 const boxes=document.querySelectorAll("input[type=checkbox]");
 boxes.forEach((c,i)=>{
  if(c.checked){total+=Number(c.dataset.cal);checked++;}
 });
 localStorage.setItem("diet-"+current,JSON.stringify([...boxes].map(b=>b.checked)));

 doneEl.textContent=total;
 let pct=(checked===boxes.length)?100:Math.min((total/days[current].goal)*100,100);
 pctEl.textContent=Math.round(pct)+"%";
 bar.style.width=pct+"%";

 if(pct===100){
  card.classList.add("complete");
  showToast("üéâ "+days[current].day+" completed!");
 }else{
  card.classList.remove("complete");
 }
}

render();
</script>
</body>
</html>
